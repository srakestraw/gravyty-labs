"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2854],{8259:function(e,t,s){s.d(t,{G:function(){return l}});var a=s(7437),r=s(8735),n=s(7604);function l(e){let{person:t}=e,s=t.doNotEngage;return(0,a.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Guardrails & Flags"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Do Not Engage"}),s?(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-red-50 px-2 py-0.5 text-xs font-medium text-red-700",children:"Active"}):(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-xs font-medium text-emerald-700",children:"None"})]}),s?(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[s.global&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Global:"})," Do not engage across all channels and agents."]}),s.roles&&s.roles.length>0&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Role-specific:"})," Do not engage for"," ",s.roles.map(r.cJ).join(", "),"."]}),s.reason&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Reason:"})," ",s.reason]}),s.source&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Source:"})," ",s.source.replace("_"," ")]})]}):(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No Do Not Engage rules apply to this person."})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Quiet Hours & Seasonal Rules"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Quiet hours and seasonal policies apply based on global guardrails configured in the Guardrails settings."}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["To modify these rules, visit the"," ",(0,a.jsx)("a",{href:"/ai-assistants/guardrails",className:"text-purple-600 hover:text-purple-700 underline",children:"Guardrails"})," ","page."]})]}),(0,a.jsx)("div",{className:"p-4 rounded-lg bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(n.FontAwesomeIcon,{icon:"fa-solid fa-info-circle",className:"h-4 w-4 text-gray-400 mt-0.5"}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 mb-1",children:"Note"}),(0,a.jsx)("p",{children:"Guardrail rules are read-only in this view. To modify Do Not Engage settings, use the Do Not Engage page or the person's profile in the source system."})]})]})})]})]})}},5924:function(e,t,s){s.d(t,{Y:function(){return r}});var a=s(7437);function r(e){let{person:t,queueItems:s,assignments:r}=e,n=s.filter(e=>"Resolved"!==e.status),l=r.length>0?r.reduce((e,t)=>{let s=new Date(e.lastActionAt).getTime();return new Date(t.lastActionAt).getTime()>s?t:e}):null;return(0,a.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"At a Glance"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Open Items in Queue"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.length})]}),n.length>0&&(0,a.jsxs)("span",{className:"inline-flex items-center rounded-full bg-red-100 px-3 py-1 text-xs font-medium text-red-700",children:[n.length," ",1===n.length?"item":"items"," require attention"]})]}),l?(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Last Engagement"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["Last action ",function(e){let t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),r=Math.floor(s/36e5);return a<60?"".concat(a,"m ago"):r<24?"".concat(r,"h ago"):"".concat(Math.floor(s/864e5),"d ago")}(l.lastActionAt)," by"," ",(0,a.jsx)("span",{className:"font-medium",children:l.agentName})]})]}):(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Last Engagement"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No recent activity"})]}),t.roles.includes("student")&&(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Student Information"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["Student ID: ",t.primaryId]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:n.length>0?"".concat(n.length," active ").concat(1===n.length?"item":"items"," requiring attention"):"No active items"})]}),t.roles.includes("donor")&&(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Donor Information"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["Constituent ID: ",t.primaryId]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Donor status: Active"})]}),t.roles.includes("prospect")&&(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Prospect Information"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["Prospect ID: ",t.primaryId]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:n.length>0?"".concat(n.length," active ").concat(1===n.length?"item":"items"," in pipeline"):"No active items"})]})]})]})}},4045:function(e,t,s){s.d(t,{b:function(){return g}});var a=s(7437);s(2265);var r=s(7604),n=s(2869),l=s(4508),o=s(4190);let i={Error:"Error",Guardrail:"Guardrail",QuietHours:"Quiet Hours",DoNotEngage:"Do Not Engage",HumanReview:"Human Review",Escalation:"Escalation",FrequencyCap:"Frequency Cap",Task:"Task",OnHold:"On Hold"},c={Open:"Open",InProgress:"In Progress",Snoozed:"Snoozed",Resolved:"Resolved"};function d(e){let t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),r=Math.floor(s/36e5),n=Math.floor(s/864e5),l=Math.floor(n/30);return a<60?"".concat(a,"m ago"):r<24?"".concat(r,"h ago"):n<30?"".concat(n,"d ago"):l<6?"".concat(l,"mo ago"):">6mo ago"}let x=[{id:"user-123",name:"John Doe"},{id:"user-456",name:"Jane Smith"},{id:"user-789",name:"Bob Johnson"}];function m(e){var t,s,m,g;let{item:h,onSelect:p,onResolve:u,onSnooze:y,onAssign:j,onUnsnooze:f,onExtendSnooze:b,onReopen:N}=e;return(0,a.jsxs)("tr",{onClick:p,className:(0,l.cn)("hover:bg-gray-50 transition-colors",p&&"cursor-pointer"),children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("span",{className:(0,l.cn)("inline-flex px-2 py-1 rounded text-xs font-medium border",function(e){switch(e){case"Critical":return"bg-red-100 text-red-700 border-red-200";case"High":return"bg-orange-100 text-orange-700 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Low":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}}(h.severity)),children:h.severity})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:null!==(s=i[t=h.type])&&void 0!==s?s:t}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",title:h.title,children:h.title}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",title:h.summary,children:h.summary})]}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:h.agentName||"—"}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("span",{className:(0,l.cn)("inline-flex px-2 py-1 rounded text-xs font-medium",function(e){switch(e){case"Open":return"bg-red-50 text-red-700";case"InProgress":return"bg-blue-50 text-blue-700";case"Snoozed":default:return"bg-gray-50 text-gray-700";case"Resolved":return"bg-green-50 text-green-700"}}(h.status)),children:null!==(g=c[m=h.status])&&void 0!==g?g:m})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:d(h.createdAt)}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:h.slaDueAt?d(h.slaDueAt):"—"}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Open"===h.status&&(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),u(h.id)},title:"Resolve",children:(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-check",className:"h-3 w-3"})}),y&&(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),y(h.id)},title:"Snooze",children:(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-clock",className:"h-3 w-3"})}),j&&(0,a.jsxs)(o.h_,{children:[(0,a.jsx)(o.$F,{asChild:!0,children:(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:e=>e.stopPropagation(),title:"Assign",children:(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-user-plus",className:"h-3 w-3"})})}),(0,a.jsx)(o.AW,{align:"end",children:x.map(e=>(0,a.jsx)(o.Xi,{onClick:t=>{t.stopPropagation(),j(h.id,e.id)},children:e.name},e.id))})]})]}),"Snoozed"===h.status&&(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),f(h.id)},title:"Unsnooze",children:(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-bell",className:"h-3 w-3"})}),b&&(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),b(h.id)},title:"Extend snooze",children:(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-clock",className:"h-3 w-3"})})]}),"Resolved"===h.status&&N&&(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),N(h.id)},title:"Reopen",children:(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-rotate-left",className:"h-3 w-3"})})]})})]})}function g(e){let{items:t}=e;if(0===t.length)return(0,a.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[(0,a.jsx)(r.FontAwesomeIcon,{icon:"fa-solid fa-check-circle",className:"h-8 w-8 text-green-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"No queue items"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This person has no items in the queue."})]});let s=async e=>{console.log("Resolve item:",e)},n=async e=>{console.log("Snooze item:",e)},l=async(e,t)=>{console.log("Assign item:",e,"to user:",t)},o=async e=>{console.log("Unsnooze item:",e)},i=async e=>{console.log("Extend snooze item:",e)},c=async e=>{console.log("Reopen item:",e)};return(0,a.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white shadow-sm overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Severity"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Title"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Agent"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"SLA"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,a.jsx)(m,{item:e,onSelect:()=>{},onResolve:s,onSnooze:n,onAssign:l,onUnsnooze:o,onExtendSnooze:i,onReopen:c},e.id))})]})})})}},2430:function(e,t,s){s.d(t,{d:function(){return n}});var a=s(7437),r=s(4508);function n(e){let{activeTab:t,onChange:s}=e;return(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-6",children:[{id:"overview",label:"Overview"},{id:"activity",label:"Activity Log"},{id:"queue",label:"Queue Items"},{id:"guardrails",label:"Guardrails / Flags"}].map(e=>(0,a.jsx)("button",{onClick:()=>s(e.id),className:(0,r.cn)("whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors",t===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:e.label},e.id))})})}}}]);